{"version":3,"sources":["hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","DialogItem","className","s","dialog","active","id","name","Message","message","text","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","dialogsPage","dialogsElements","dialogs","map","key","messagesElements","messages","dialogsItems","values","sendMessage","newMessageBody","compose","dispatch","sendMessageCreator"],"mappings":"sNAIIA,EAA6B,SAACC,GAAD,MAAY,CAACC,OAAQD,EAAME,KAAKD,SAEpDE,EAAmB,SAACC,GAAe,IACzCC,EADwC,iLAG5C,OAAKC,KAAKC,MAAMN,OACT,kBAACG,EAAcE,KAAKC,OADI,kBAAC,IAAD,CAAUC,GAAI,eAHD,GACdC,IAAML,WAStC,OAFqCM,YAAQX,EAARW,CAAoCL,K,oBCb1EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,0BAA0B,OAAS,wBAAwB,QAAU,2B,8FCWpMC,EARI,SAACN,GACnB,OACE,yBAAKO,UAAWC,IAAEC,OAAS,IAAMD,IAAEE,QAClC,kBAAC,IAAD,CAAST,GAAI,aAAeD,EAAMW,IAAKX,EAAMY,QCMlCC,EATC,SAACb,GAChB,OACE,yBAAKO,UAAWC,IAAEM,SAChBd,EAAMe,O,iCCELC,EAAcC,YAAiB,IA6C/BC,EAAsBC,YAAU,CAEpCC,KAAM,wBAFoBD,EAfL,SAACnB,GACvB,OACC,0BAAMqB,SAAUrB,EAAMsB,cACrB,6BACC,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUb,KAAM,iBAClCc,SAAU,CAACC,IAAUX,GACrBY,YAAa,wBAEd,6BACA,6CAWYC,EAhDC,SAAC7B,GAChB,IAAIP,EAAQO,EAAM8B,YAEdC,EAAkBtC,EAAMuC,QAC3BC,KAAI,SAAAxB,GAAM,OAAI,kBAAC,EAAD,CAAYG,KAAMH,EAAOG,KAAMsB,IAAKzB,EAAOE,GAAIA,GAAIF,EAAOE,QAErEwB,EAAmB1C,EAAM2C,SAC5BH,KAAI,SAAAnB,GAAO,OAAI,kBAAC,EAAD,CAASC,KAAMD,EAAQA,QAASoB,IAAKpB,EAAQH,QAM7D,OAAKX,EAAMN,OAEH,yBAAKa,UAAWC,IAAEwB,SACvB,yBAAKzB,UAAWC,IAAE6B,cAChBN,GAEF,yBAAKxB,UAAWC,IAAE4B,UACjB,6BAAMD,IAGP,kBAACjB,EAAD,CAAqBG,SAdF,SAACiB,GACtBtC,EAAMuC,YAAYD,EAAOE,oBAGA,kBAAC,IAAD,CAAUvC,GAAI,Y,iCCH1BwC,sBACVtC,aAfiB,SAACV,GACtB,MAAO,CACNqC,YAAarC,EAAMqC,gBAII,SAACY,GACzB,MAAO,CACLH,YAAa,SAACC,GACbE,EAASC,YAAmBH,SAO3B5C,IAFU6C,CAGRZ","file":"static/js/4.f2f22588.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({isAuth: state.auth.isAuth});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to={\"/login\"} />\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\treturn ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__38nZa\",\"dialogsItems\":\"Dialogs_dialogsItems__pd0-B\",\"active\":\"Dialogs_active__1p6sW\",\"messages\":\"Dialogs_messages__3zwIG\",\"dialog\":\"Dialogs_dialog__ifUgd\",\"message\":\"Dialogs_message__1lRlj\"};","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './../Dialogs.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n\treturn (\r\n\t\t\t<div className={s.dialog + ' ' + s.active}>\r\n\t\t\t\t<NavLink to={\"/messages/\" + props.id}>{props.name}</NavLink>\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\n\r\n\r\nconst Message = (props) => {\r\n\treturn (\r\n\t\t\t<div className={s.message}>\r\n\t\t\t\t{props.text}\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from './DialogItem/DialogItem.jsx';\r\nimport Message from './Message/Message.jsx';\r\nimport {reduxForm, Field} from 'redux-form';\r\nimport {Textarea} from './../common/FormControls/FormControls.js';\r\nimport {required, maxLengthCreator} from './../../utils/validators/validators.js';\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst Dialogs = (props) => {\r\n\tlet state = props.dialogsPage;\r\n\t\r\n\tlet dialogsElements = state.dialogs\r\n\t.map(dialog => <DialogItem name={dialog.name} key={dialog.id} id={dialog.id} />);\r\n\r\n\tlet messagesElements = state.messages\r\n\t.map(message => <Message text={message.message} key={message.id} />);\r\n\r\n\tconst addNewMessage = (values) => {\r\n\t\tprops.sendMessage(values.newMessageBody);\r\n\t}\r\n\r\n\tif (!props.isAuth) return <Redirect to={\"/login\"} />\r\n\r\n\treturn (<div className={s.dialogs}>\r\n\t\t\t\t<div className={s.dialogsItems}>\r\n\t\t\t\t\t{dialogsElements}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.messages}>\r\n\t\t\t\t\t<div>{messagesElements}</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<AddMessageFormRedux onSubmit={addNewMessage} />\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n\r\nconst AddMessageForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field component={Textarea} name={\"newMessageBody\"}\r\n\t\t\t\tvalidate={[required, maxLength50]}\r\n\t\t\t\tplaceholder={\"Enter your message\"}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t<button>Send</button>\r\n\t\t\t</div>\t\t\t\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({\r\n  // a unique name for the form\r\n  form: 'dialogAddMessageForm'\r\n})(AddMessageForm)\r\n\r\nexport default Dialogs;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Dialogs from './Dialogs.js';\r\nimport {sendMessageCreator} from './../../Redux/dialogs-reducer.js';\r\nimport {connect} from 'react-redux';\r\nimport {withAuthRedirect} from './../../hoc/withAuthRedirect.js';\r\nimport {compose} from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogsPage: state.dialogsPage,\r\n\t\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t\tsendMessage: (newMessageBody) => {\r\n\t\t\t\tdispatch(sendMessageCreator(newMessageBody));\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\nexport default compose(\r\n\t\t\t\t\tconnect(mapStateToProps, mapDispatchToProps),\r\n\t\t\t\t\twithAuthRedirect\r\n\t\t\t\t\t)(Dialogs);"],"sourceRoot":""}