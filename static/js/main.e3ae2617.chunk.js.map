{"version":3,"sources":["Redux/dialogs-reducer.js","api/api.js","assets/images/avatar.png","components/Users/users.module.css","assets/images/loader.gif","components/Navbar/Navbar.module.css","components/common/FormControls/FormControls.js","serviceWorker.js","Redux/sidebar-reducer.js","utils/object-helpers.js","Redux/users-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","Redux/users-selectors.js","components/Users/UsersContainer.js","components/Header/Header.jsx","components/Header/HeaderContainer.js","components/login/login.jsx","hoc/withSuspense.js","App.js","index.js","components/common/FormControls/FormControls.module.css","components/common/Preloader/Preloader.js","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","Redux/profile-reducer.js"],"names":["initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","instance","axios","withCredentials","baseURL","headers","profileAPI","getProfile","userId","get","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","usersAPI","getUsers","currentPage","pageSize","then","response","data","follow","post","unfollow","delete","console","warn","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","FormControls","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","Boolean","window","location","hostname","match","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followinginProgress","followSuccess","unfollowSuccess","setCurrentPage","pageNumber","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","SET_USER_DATA","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","getCaptcha","url","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","style","nav","item","active","to","activeClassName","activeLink","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","selectedPage","key","e","User","user","src","photos","small","userPhoto","disabled","some","Users","getUsersSuperSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","this","Preloader","React","Component","connect","totalCount","bind","Header","s","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","summaryError","length","stopSubmit","_error","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","value","maxLengthCreator","maxLength","posts","likeCount","addPostActionCreator","newPostText","getUserProfile","setStatus","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.e3ae2617.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n\tmessages: [\r\n\t\t{id: 1, message: \"Hi!\"},\r\n\t\t{id: 2, message: \"Hello!\"},\r\n\t\t{id: 3, message: \"Good day!\"}\r\n\t],\r\n\tdialogs: [\r\n\t\t{id: 1, name: \"Dima\"},\r\n\t\t{id: 2, name: \"Andrey\"},\r\n\t\t{id: 3, name: \"Sveta\"},\r\n\t\t{id: 4, name: \"Sasha\"},\r\n\t\t{id: 5, name: \"Viktor\"},\r\n\t\t{id: 6, name: \"Valera\"}\r\n\r\n\t]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\t\r\n\r\n\tswitch(action.type) {\r\n\t\t\t\t\t\t\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\t\r\n\t\t\tlet body = action.newMessageBody;\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, { id: 4, message: body }]\r\n\t\t\t};\r\n\t\t \t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"8771effe-99ba-4a6f-b9dd-e8ed7fce0c66\"\r\n\t}\r\n});\r\n\r\nexport const profileAPI = {\r\n\t\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\t\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t},\r\n\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status/`, { status })\r\n\t},\r\n\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', photoFile);\r\n\t\treturn instance.put(`profile/photo/`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\r\n\tsaveProfile(profile) {\r\n\t\treturn instance.put(`profile`, profile);\r\n\t}\r\n}\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\treturn response.data\r\n\t\t})\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\tgetProfile(userId) {\r\n\t\tconsole.warn('Obsolete method. Please use profileAPI object');\r\n\t\treturn profileAPI.getProfile(userId);\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`);\r\n\t},\r\n\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`);\r\n\t}\r\n}\r\n\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.get(`security/get-captcha-url`);\r\n\t}\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/avatar.6c0889ab.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__UU8rI\"};","module.exports = __webpack_public_path__ + \"static/media/loader.b2d4b2c0.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__UppG1\",\"item\":\"Navbar_item__1SXfV\",\"activeLink\":\"Navbar_activeLink___Pu_z\"};","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\nimport {Field} from 'redux-form';\r\n\r\nconst FormControls = ({input, meta: {touched, error}, children}) => {\r\n\tconst hasError = touched && error; \r\n\treturn (\r\n\t\t<div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t\t{hasError && <span>{error}</span>}\r\n\t\t</div>\r\n\t\t)\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn <FormControls {...props}><textarea {...input} {...restProps} /></FormControls>\r\n}\r\n\r\nexport const Input = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn <FormControls {...props}><input {...input} {...restProps} /></FormControls>\r\n\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n\t<div>\r\n\t\t<Field placeholder={placeholder} \r\n\t\tvalidate={validators}\r\n\t\tname={name} component={component} {...props}/>{text}\r\n\t</div>\r\n)\r\n\t","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn {...u, ...newObjProps}\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n}","import {usersAPI} from './../api/api.js';\r\nimport {updateObjectInArray} from './../utils/object-helpers.js';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 35,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowinginProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase FOLLOW: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: true}) \r\n\t\t\t}\r\n\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: false}) \r\n\t\t\t}\r\n\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn {...state, users: action.users};\r\n\t\t}\r\n\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn {...state, currentPage: action.currentPage}\r\n\t\t}\r\n\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn {...state, totalUsersCount: action.count}\r\n\t\t}\r\n\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn {...state, isFetching: action.isFetching}\r\n\t\t}\r\n\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n\t\t\treturn {...state, \r\n\t\t\t\tfollowinginProgress: \r\n\t\t\t\taction.followinginProgress ?\r\n\t\t\t\t[...state.followinginProgress, action.userId] :\r\n\t\t\t\tstate.followinginProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => {\r\n  return {\r\n    type: FOLLOW, userId \r\n  }\r\n}\r\n\r\nexport const unfollowSuccess = (userId) => {\r\n  return {\r\n    type: UNFOLLOW, userId\r\n  }\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n  return {\r\n    type: SET_USERS, users\r\n  }\r\n}\r\n\r\nexport const setCurrentPage = (pageNumber) => {\r\n\treturn {\r\n\t\ttype: SET_CURRENT_PAGE,\r\n\t\tcurrentPage: pageNumber\r\n\t}\r\n}\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n\treturn {\r\n\t\ttype: SET_TOTAL_USERS_COUNT,\r\n\t\tcount: totalUsersCount\r\n\t}\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching) => {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FETCHING, \r\n\t\tisFetching\r\n\t}\r\n}\r\n\r\nexport const toggleFollowingProgress = (followinginProgress, userId) => {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FOLLOWING_PROGRESS, \r\n\t\tfollowinginProgress, \r\n\t\tuserId\r\n\t}\r\n}\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\t\r\n\tdispatch(toggleIsFetching(true));\r\n\tlet data = await usersAPI.getUsers(currentPage, pageSize);\r\n\tdispatch(toggleIsFetching(false));\r\n\tdispatch(setCurrentPage(currentPage))\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setTotalUsersCount(data.totalCount));\t\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\r\n\tlet response = await apiMethod(userId);\r\n\t\t\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.follow.bind(userId), followSuccess);\r\n\t}\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(userId), unfollowSuccess);\r\n\t}\r\n}    \r\n\t\r\nexport default usersReducer;","import {authAPI, securityAPI} from './../api/api.js';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tcaptchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\tcase GET_CAPTCHA_URL_SUCCESS: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n\treturn {\r\n\t\ttype: SET_USER_DATA, \r\n\t\tpayload: {userId, email, login, isAuth}\r\n\t}\r\n}\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => {\r\n\treturn {\r\n\t\ttype: GET_CAPTCHA_URL_SUCCESS, \r\n\t\tpayload: {captchaUrl}\r\n\t}\r\n}\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\t\r\n\tlet response = await authAPI.me();\r\n\t\r\n\tif (response.data.resultCode === 0) {\r\n\r\n\t\tlet {id, login, email} = response.data.data;\r\n\t\tdispatch(setAuthUserData(id, email, login, true));\r\n\t}\t\t\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\r\n\tlet response = await authAPI.login(email, password, rememberMe, captcha);\r\n\t\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData());\r\n\t}else {\r\n\t\tif (response.data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptcha());\r\n\t\t}\r\n\r\n\t\tlet message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n\t\tdispatch(stopSubmit(\"login\", {_error: message}));\r\n\t}\t\r\n}\r\n\r\nexport const getCaptcha = () => async (dispatch) => {\r\n\tconst response = await securityAPI.getCaptchaUrl();\r\n\tconst captchaUrl = response.data.url;\r\n\r\n\tdispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\t\r\n\tlet response = await authAPI.logout();\r\n\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t}\t\r\n}\r\n\r\nexport default authReducer;\r\n","import {getAuthUserData} from './auth-reducer.js';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase INITIALIZED_SUCCESS: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n\treturn {\r\n\t\ttype: INITIALIZED_SUCCESS,\r\n\t}\r\n}\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthUserData());\r\n\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(initializedSuccess());\r\n\t});\r\n}\r\n\r\nexport default appReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport profileReducer from './profile-reducer.js';\r\nimport dialogsReducer from './dialogs-reducer.js';\r\nimport sidebarReducer from './sidebar-reducer.js';\r\nimport usersReducer from './users-reducer.js';\r\nimport authReducer from './auth-reducer.js';\r\nimport appReducer from './app-reducer.js';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer, \r\n\tdialogsPage: dialogsReducer, \r\n\tsidebar: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={style.nav}>\r\n      <div className={`${style.item} ${style.active}`}>\r\n        <NavLink to=\"/profile\" activeClassName={style.activeLink}>Profile</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to=\"/messages\" activeClassName={style.activeLink}>Messages</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to=\"/users\" activeClassName={style.activeLink}>Users</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <a>News</a>\r\n      </div>\r\n      <div className={style.item}>\r\n        <a>Music</a>\r\n      </div>\r\n      <div className={style.item}>\r\n        <a>Settings</a>\r\n      </div>\r\n    </nav>\r\n\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.css';\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\tlet pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\t\t\r\n\tlet pages = [];\r\n\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i);\r\n\t}\r\n\r\n\tlet portionCount = Math.ceil(pagesCount / portionSize);\r\n\tlet [portionNumber, setPortionNumber] = useState(1);\r\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize - 1;\r\n\tlet rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n\treturn \t(<div className={styles.paginator}>\r\n\r\n\t\t\t{portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n\t\t\t\t{pages\r\n\t\t\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t\t.map((p) => {\r\n\t\t\t\t\treturn <span \r\n\t\t\t\t\tclassName={currentPage === p && styles.selectedPage}\r\n\t\t\t\t\tkey={p} onClick={(e) => onPageChanged(p) }>{p}</span>\r\n\t\t\t\t})}\r\n\r\n\t\t\t{portionCount > portionNumber && \r\n\t\t\t\t<button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n\t\t\t</div>)\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport userPhoto from './../../assets/images/avatar.png';\r\n\r\nlet User = ({user, followinginProgress, unfollow, follow}) => {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<span>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<NavLink to={'/profile/' + user.id}>\r\n\t\t\t\t\t\t<img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto}></img>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{user.followed ? \r\n\t\t\t\t\t\t<button disabled={followinginProgress.some(id => id === user.id)} onClick={ () => {\r\n\t\t\t\t\t\t\tunfollow(user.id)}}>Unfollow\r\n\t\t\t\t\t\t</button> : \r\n\t\t\t\t\t\t<button disabled={followinginProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\tonClick={ () => { follow(user.id) }}>Follow</button>}\r\n\t\t\t\t</div>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{user.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{user.status}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{\"user.location.country\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{\"user.location.city\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from './../common/Paginator/Paginator.js';\r\nimport User from './User.js';\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users,...props}) => {\r\n\r\n\treturn <div>\r\n\t\t\t<Paginator currentPage={currentPage} \r\n\t\t\tonPageChanged={onPageChanged} totalItemsCount={totalUsersCount}\r\n\t\t\tpageSize={pageSize}/>\r\n\t\t\t<div>\r\n\t\t\t\t{users.map(u => \r\n\t\t\t\t\t<User user={u} key={u.id}\r\n\t\t\t\t\t\t  followinginProgress={props.followinginProgress}\r\n\t\t\t\t\t\t  follow={props.follow} unfollow={props.unfollow}/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n}\r\n\r\nexport default Users;","import {createSelector} from 'reselect';\r\n\r\nconst getUsers = (state) => {\r\n\treturn state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers, (users) => {\r\n\treturn users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n\treturn state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followinginProgress;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users.js';\r\nimport {setCurrentPage,  \r\n\ttoggleFollowingProgress, requestUsers, follow, unfollow} from './../../Redux/users-reducer.js';\r\nimport Preloader from './../common/Preloader/Preloader.js';\r\nimport {compose} from 'redux';\r\nimport {getUsersSuperSelector, getPageSize, getIsFetching, getFollowingInProgress, getTotalUsersCount, getCurrentPage} from './../../Redux/users-selectors.js';\r\n\r\nclass UsersContainer extends React.Component {\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst {requestUsers, currentPage, pageSize} = this.props;\r\n\t\trequestUsers(currentPage, pageSize);\r\n\t}\r\n\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tconst {requestUsers, pageSize} = this.props;\r\n\t\trequestUsers(pageNumber, pageSize);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t{this.props.isFetching ? <Preloader /> : null}\r\n\t\t<Users totalUsersCount={this.props.totalUsersCount} \r\n\t\tpageSize={this.props.pageSize} currentPage={this.props.currentPage}\r\n\t\t\tonPageChanged={this.onPageChanged} users={this.props.users} \r\n\t\t\ttoggleFollowingProgress={this.props.toggleFollowingProgress} \r\n\t\t\tfollowinginProgress={this.props.followinginProgress}\r\n\t\t\tfollow={this.props.follow}\r\n\t\t\tunfollow={this.props.unfollow}\r\n\t\t\t/>\r\n\t\t\t</>\r\n\t}\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsersSuperSelector(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowinginProgress: getFollowingInProgress(state)\r\n\t}\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, {\t\r\n\t\tsetCurrentPage,\r\n\t\ttoggleFollowingProgress,\r\n\t\trequestUsers, follow, unfollow\r\n\t}))(UsersContainer)","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={s.header}>\r\n          <img src=\"https://pixy.org/src/70/704855.png\"></img>\r\n          <div className={s.loginBlock}>\r\n          \t{ props.isAuth ? \r\n          \t\t<div>{props.login} \r\n          \t\t<button onClick={props.logout}>logout</button></div>\r\n          \t\t: \r\n          \t\t<NavLink to=\"/login\">Login</NavLink>}\r\n          </div>\r\n        </header>\r\n\r\n\t\t)\r\n\t\r\n}\r\n\r\nexport default Header;\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Header from './Header.jsx';\r\nimport {logout} from './../../Redux/auth-reducer.js';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\t\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\t\r\n}\r\n\r\nconst mapStateToProps = (state) => ({isAuth: state.auth.isAuth,login: state.auth.login});\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n\r\n","import React from 'react';\r\nimport {reduxForm} from 'redux-form';\r\nimport {Input} from './../common/FormControls/FormControls.js';\r\nimport {required} from './../../utils/validators/validators.js';\r\nimport {connect} from 'react-redux';\r\nimport {login} from './../../Redux/auth-reducer.js';\r\nimport {Redirect} from 'react-router-dom';\r\nimport style from './../../components/common/FormControls/FormControls.module.css';\r\nimport {createField} from './../common/FormControls/FormControls.js';\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\r\n\t\t\t\t{createField(\"Email\", \"email\", [required], Input)}\r\n\t\t\t\t{createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\t\r\n\t\t\t\t{createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n\t\t\t\t\r\n\t\t\t\t{captchaUrl && <img src={captchaUrl}/>}\r\n\t\t\t\t{captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input)}\r\n\r\n\t\t\t\t{error && <div className={style.summaryError}>{error}\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button>Login</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Данные тестового аккаунта</h2>\r\n\t\t\t\t<p>Email: free@samuraijs.com</p>\r\n\t\t\t\t<p>Password: free</p>\r\n\t\t\t</div>\r\n\t\t</div>\t\r\n\t)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  // a unique name for the form\r\n  form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"}/>\r\n\t}\r\n\r\n\treturn <div>\r\n\t\t<h1>Login</h1>\r\n\t\t<LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n\t</div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tcaptchaUrl: state.auth.captchaUrl\t\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n\treturn (props) => {\r\n\t\treturn <React.Suspense fallback={<div>Loading...</div>}><Component {...props} /></React.Suspense>\r\n\t};\r\n}","import React from 'react';\nimport store from './Redux/redux-store.js';\nimport {Provider, connect} from 'react-redux'; \nimport {compose} from 'redux';\nimport {withRouter, Route, HashRouter} from 'react-router-dom';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar.jsx';\nimport UsersContainer from './components/Users/UsersContainer.js';\nimport HeaderContainer from './components/Header/HeaderContainer.js';\nimport LoginPage from './components/login/login.jsx';\nimport Preloader from './components/common/Preloader/Preloader.js';\nimport {initializeApp} from './Redux/app-reducer.js';\nimport {withSuspense} from './hoc/withSuspense.js';\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer.js'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer.js'));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n\n    if (!this.props.initialized) {\n        return <Preloader />\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route path=\"/messages\" render={withSuspense(DialogsContainer)}/>\n          <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n          <Route path=\"/users\" render={() => <UsersContainer />}/>\n          <Route path=\"/login\" render={() => <LoginPage />}/>\n        </div>\n      </div> \n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\n\nlet AppContainer = compose(withRouter,connect(mapStateToProps, {initializeApp}))(App);\n\nconst MainApp = (props) => {\n  return <HashRouter>\n    <Provider store={store} >\n      <AppContainer />\n    </Provider>\n    </HashRouter>\n}\n\nexport default MainApp;","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\nReactDOM.render(<MainApp />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3CvsW\",\"error\":\"FormControls_error__1N5XE\",\"summaryError\":\"FormControls_summaryError__3XQ_Z\"};","import React from 'react';\r\nimport preloader from './../../../assets/images/loader.gif';\r\n\r\nlet Preloader = (props) => {\r\n\treturn <img src={preloader} />\r\n}\r\n\r\nexport default Preloader;","export const required = (value) => {\r\n\tif (value) return undefined;\r\n\treturn \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\treturn undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1FMpF\",\"pageNumber\":\"Paginator_pageNumber__tm45-\",\"selectedPage\":\"Paginator_selectedPage__1uvWJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3RBOP\",\"loginBlock\":\"Header_loginBlock__36kxZ\"};","import {usersAPI, profileAPI} from './../api/api.js';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n\r\n\tposts: [\r\n\t\t{id: 1, text: \"How are you?\", likeCount: 15},\r\n\t\t{id: 2, text: \"I am fine, and you?\", likeCount: 35}\r\n\t],\r\n\tprofile: null,\r\n\tstatus: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t \t\tid: 5,\r\n\t\t \t\ttext: action.newPostText,\r\n\t\t \t\tlikeCount: 0,\r\n\t\t \t\t\r\n\t\t \t};\r\n\r\n\t\t \treturn {\r\n\t\t \t\t...state,\r\n\t\t \t\tposts: [...state.posts, newPost]\r\n\t\t \t}\r\n\t\t}\r\n\r\n\t\tcase SET_STATUS: {\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t \t\t...state,\r\n\t\t \t\tstatus: action.status\r\n\t\t \t}\r\n\t\t}\r\n\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: state.posts.filter(p => p.id !== action.postId)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase SAVE_PHOTO_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: {...state.profile, photos: action.photos}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n  return {\r\n    type: ADD_POST,\r\n    newPostText\r\n  }\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n  return {\r\n  \ttype: SET_USER_PROFILE, profile\r\n  }\r\n}\r\n\r\nexport const savePhotoSuccess = (photos) => {\r\n\treturn {\r\n\t  type: SAVE_PHOTO_SUCCESS, photos\r\n\t}\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\t\r\n\tlet response = await usersAPI.getProfile(userId);\r\n\t\r\n\tdispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n\treturn {\r\n\t\ttype: SET_STATUS, status\r\n\t}\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tlet response = await profileAPI.getStatus(userId);\r\n\tdispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\tlet response = await profileAPI.updateStatus(status);\r\n\t\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setStatus(status))\r\n\t}\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\tlet response = await profileAPI.savePhoto(file);\r\n\t\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(savePhotoSuccess(response.data.data.photos));\r\n\t}\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.userId;\r\n\tconst response = await profileAPI.saveProfile(profile);\r\n\t\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getUserProfile(userId));\r\n\t} else {\r\n\t\tdispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}));\r\n\t\treturn Promise.reject(response.data.messages[0]);\r\n\t}\r\n}\r\n\r\nexport const deletePost = (postId) => ({\r\n\ttype: DELETE_POST, postId\r\n})\r\n\r\nexport default profileReducer;"],"sourceRoot":""}