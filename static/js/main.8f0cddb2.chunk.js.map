{"version":3,"sources":["Redux/dialogs-reducer.js","components/Users/users.module.css","assets/images/avatar.png","assets/images/loader.gif","api/api.js","components/Navbar/Navbar.module.css","components/common/FormControls/FormControls.js","serviceWorker.js","Redux/sidebar-reducer.js","utils/object-helpers.js","Redux/users-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","Redux/users-selectors.js","components/Users/UsersContainer.js","components/Header/Header.jsx","components/Header/HeaderContainer.js","components/login/login.jsx","hoc/withSuspense.js","App.js","index.js","components/common/FormControls/FormControls.module.css","components/common/Preloader/Preloader.js","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","Redux/profile-reducer.js"],"names":["initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","withCredentials","baseURL","headers","profileAPI","getProfile","userId","get","getStatus","updateStatus","status","put","usersAPI","getUsers","currentPage","pageSize","then","response","data","follow","post","unfollow","delete","console","warn","authAPI","me","login","email","password","rememberMe","logout","FormControls","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","Boolean","window","location","hostname","match","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followinginProgress","followSuccess","unfollowSuccess","setCurrentPage","pageNumber","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","SET_USER_DATA","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","style","nav","item","active","to","activeClassName","activeLink","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","selectedPage","key","e","User","user","src","photos","small","userPhoto","disabled","some","Users","getUsersSuperSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","this","Preloader","React","Component","connect","totalCount","bind","Header","s","header","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","summaryError","length","stopSubmit","_error","formData","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","value","maxLengthCreator","maxLength","posts","likeCount","profile","addPostActionCreator","newPostText","getUserProfile","setStatus","newPost","postId"],"mappings":"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","file":"static/js/main.8f0cddb2.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n\tmessages: [\r\n\t\t{id: 1, message: \"Hi!\"},\r\n\t\t{id: 2, message: \"Hello!\"},\r\n\t\t{id: 3, message: \"Good day!\"}\r\n\t],\r\n\tdialogs: [\r\n\t\t{id: 1, name: \"Dima\"},\r\n\t\t{id: 2, name: \"Andrey\"},\r\n\t\t{id: 3, name: \"Sveta\"},\r\n\t\t{id: 4, name: \"Sasha\"},\r\n\t\t{id: 5, name: \"Viktor\"},\r\n\t\t{id: 6, name: \"Valera\"}\r\n\r\n\t]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\t\r\n\r\n\tswitch(action.type) {\r\n\t\t\t\t\t\t\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\t\r\n\t\t\tlet body = action.newMessageBody;\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, { id: 4, message: body }]\r\n\t\t\t};\r\n\t\t \t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__UU8rI\"};","module.exports = __webpack_public_path__ + \"static/media/avatar.6c0889ab.png\";","module.exports = __webpack_public_path__ + \"static/media/loader.b2d4b2c0.gif\";","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"8771effe-99ba-4a6f-b9dd-e8ed7fce0c66\"\r\n\t}\r\n});\r\n\r\nexport const profileAPI = {\r\n\t\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\t\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t},\r\n\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status/`, { status })\r\n\t}\r\n}\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\treturn response.data\r\n\t\t})\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\tgetProfile(userId) {\r\n\t\tconsole.warn('Obsolete method. Please use profileAPI object');\r\n\t\treturn profileAPI.getProfile(userId);\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`);\r\n\t},\r\n\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe});\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`);\r\n\t}\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__UppG1\",\"item\":\"Navbar_item__1SXfV\",\"activeLink\":\"Navbar_activeLink___Pu_z\"};","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\nimport {Field} from 'redux-form';\r\n\r\nconst FormControls = ({input, meta: {touched, error}, children}) => {\r\n\tconst hasError = touched && error; \r\n\treturn (\r\n\t\t<div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t\t{hasError && <span>{error}</span>}\r\n\t\t</div>\r\n\t\t)\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn <FormControls {...props}><textarea {...input} {...restProps} /></FormControls>\r\n}\r\n\r\nexport const Input = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn <FormControls {...props}><input {...input} {...restProps} /></FormControls>\r\n\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n\t<div>\r\n\t\t<Field placeholder={placeholder} \r\n\t\tvalidate={validators}\r\n\t\tname={name} component={component} {...props}/>{text}\r\n\t</div>\r\n)\r\n\t","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn {...u, ...newObjProps}\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n}","import {usersAPI} from './../api/api.js';\r\nimport {updateObjectInArray} from './../utils/object-helpers.js';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 35,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowinginProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase FOLLOW: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: true}) \r\n\t\t\t}\r\n\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: false}) \r\n\t\t\t}\r\n\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn {...state, users: action.users};\r\n\t\t}\r\n\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn {...state, currentPage: action.currentPage}\r\n\t\t}\r\n\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn {...state, totalUsersCount: action.count}\r\n\t\t}\r\n\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn {...state, isFetching: action.isFetching}\r\n\t\t}\r\n\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n\t\t\treturn {...state, \r\n\t\t\t\tfollowinginProgress: \r\n\t\t\t\taction.followinginProgress ?\r\n\t\t\t\t[...state.followinginProgress, action.userId] :\r\n\t\t\t\tstate.followinginProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => {\r\n  return {\r\n    type: FOLLOW, userId \r\n  }\r\n}\r\n\r\nexport const unfollowSuccess = (userId) => {\r\n  return {\r\n    type: UNFOLLOW, userId\r\n  }\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n  return {\r\n    type: SET_USERS, users\r\n  }\r\n}\r\n\r\nexport const setCurrentPage = (pageNumber) => {\r\n\treturn {\r\n\t\ttype: SET_CURRENT_PAGE,\r\n\t\tcurrentPage: pageNumber\r\n\t}\r\n}\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n\treturn {\r\n\t\ttype: SET_TOTAL_USERS_COUNT,\r\n\t\tcount: totalUsersCount\r\n\t}\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching) => {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FETCHING, \r\n\t\tisFetching\r\n\t}\r\n}\r\n\r\nexport const toggleFollowingProgress = (followinginProgress, userId) => {\r\n\treturn {\r\n\t\ttype: TOGGLE_IS_FOLLOWING_PROGRESS, \r\n\t\tfollowinginProgress, \r\n\t\tuserId\r\n\t}\r\n}\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\t\r\n\tdispatch(toggleIsFetching(true));\r\n\tlet data = await usersAPI.getUsers(currentPage, pageSize);\r\n\tdispatch(toggleIsFetching(false));\r\n\tdispatch(setCurrentPage(currentPage))\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setTotalUsersCount(data.totalCount));\t\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, userId));\r\n\r\n\tlet response = await apiMethod(userId);\r\n\t\t\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.follow.bind(userId), followSuccess);\r\n\t}\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(userId), unfollowSuccess);\r\n\t}\r\n}    \r\n\t\r\nexport default usersReducer;","import {authAPI} from './../api/api.js';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'network/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase SET_USER_DATA: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n\treturn {\r\n\t\ttype: SET_USER_DATA, \r\n\t\tpayload: {userId, email, login, isAuth}\r\n\t}\r\n}\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\t\r\n\tlet response = await authAPI.me();\r\n\t\r\n\tif (response.data.resultCode === 0) {\r\n\r\n\t\tlet {id, login, email} = response.data.data;\r\n\t\tdispatch(setAuthUserData(id, email, login, true));\r\n\t}\t\t\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n\tlet response = await authAPI.login(email, password, rememberMe);\r\n\t\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData());\r\n\t} else {\r\n\t\tlet message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n\t\tdispatch(stopSubmit(\"login\", {_error: message}));\r\n\t}\t\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\t\r\n\tlet response = await authAPI.logout();\r\n\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t}\t\r\n}\r\n\r\nexport default authReducer;\r\n","import {getAuthUserData} from './auth-reducer.js';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase INITIALIZED_SUCCESS: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n\treturn {\r\n\t\ttype: INITIALIZED_SUCCESS,\r\n\t}\r\n}\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthUserData());\r\n\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(initializedSuccess());\r\n\t});\r\n}\r\n\r\nexport default appReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport profileReducer from './profile-reducer.js';\r\nimport dialogsReducer from './dialogs-reducer.js';\r\nimport sidebarReducer from './sidebar-reducer.js';\r\nimport usersReducer from './users-reducer.js';\r\nimport authReducer from './auth-reducer.js';\r\nimport appReducer from './app-reducer.js';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer, \r\n\tdialogsPage: dialogsReducer, \r\n\tsidebar: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={style.nav}>\r\n      <div className={`${style.item} ${style.active}`}>\r\n        <NavLink to=\"/profile\" activeClassName={style.activeLink}>Profile</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to=\"/messages\" activeClassName={style.activeLink}>Messages</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to=\"/users\" activeClassName={style.activeLink}>Users</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <a>News</a>\r\n      </div>\r\n      <div className={style.item}>\r\n        <a>Music</a>\r\n      </div>\r\n      <div className={style.item}>\r\n        <a>Settings</a>\r\n      </div>\r\n    </nav>\r\n\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.css';\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\tlet pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\t\t\r\n\tlet pages = [];\r\n\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i);\r\n\t}\r\n\r\n\tlet portionCount = Math.ceil(pagesCount / portionSize);\r\n\tlet [portionNumber, setPortionNumber] = useState(1);\r\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize - 1;\r\n\tlet rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n\treturn \t(<div className={styles.paginator}>\r\n\r\n\t\t\t{portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n\t\t\t\t{pages\r\n\t\t\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t\t.map((p) => {\r\n\t\t\t\t\treturn <span \r\n\t\t\t\t\tclassName={currentPage === p && styles.selectedPage}\r\n\t\t\t\t\tkey={p} onClick={(e) => onPageChanged(p) }>{p}</span>\r\n\t\t\t\t})}\r\n\r\n\t\t\t{portionCount > portionNumber && \r\n\t\t\t\t<button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n\t\t\t</div>)\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport userPhoto from './../../assets/images/avatar.png';\r\n\r\nlet User = ({user, followinginProgress, unfollow, follow}) => {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<span>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<NavLink to={'/profile/' + user.id}>\r\n\t\t\t\t\t\t<img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto}></img>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{user.followed ? \r\n\t\t\t\t\t\t<button disabled={followinginProgress.some(id => id === user.id)} onClick={ () => {\r\n\t\t\t\t\t\t\tunfollow(user.id)}}>Unfollow\r\n\t\t\t\t\t\t</button> : \r\n\t\t\t\t\t\t<button disabled={followinginProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\tonClick={ () => { follow(user.id) }}>Follow</button>}\r\n\t\t\t\t</div>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{user.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{user.status}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{\"user.location.country\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{\"user.location.city\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from './../common/Paginator/Paginator.js';\r\nimport User from './User.js';\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users,...props}) => {\r\n\r\n\treturn <div>\r\n\t\t\t<Paginator currentPage={currentPage} \r\n\t\t\tonPageChanged={onPageChanged} totalItemsCount={totalUsersCount}\r\n\t\t\tpageSize={pageSize}/>\r\n\t\t\t<div>\r\n\t\t\t\t{users.map(u => \r\n\t\t\t\t\t<User user={u} key={u.id}\r\n\t\t\t\t\t\t  followinginProgress={props.followinginProgress}\r\n\t\t\t\t\t\t  follow={props.follow} unfollow={props.unfollow}/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n}\r\n\r\nexport default Users;","import {createSelector} from 'reselect';\r\n\r\nconst getUsers = (state) => {\r\n\treturn state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers, (users) => {\r\n\treturn users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n\treturn state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followinginProgress;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users.js';\r\nimport {setCurrentPage,  \r\n\ttoggleFollowingProgress, requestUsers, follow, unfollow} from './../../Redux/users-reducer.js';\r\nimport Preloader from './../common/Preloader/Preloader.js';\r\nimport {compose} from 'redux';\r\nimport {getUsersSuperSelector, getPageSize, getIsFetching, getFollowingInProgress, getTotalUsersCount, getCurrentPage} from './../../Redux/users-selectors.js';\r\n\r\nclass UsersContainer extends React.Component {\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst {requestUsers, currentPage, pageSize} = this.props;\r\n\t\trequestUsers(currentPage, pageSize);\r\n\t}\r\n\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tconst {requestUsers, pageSize} = this.props;\r\n\t\trequestUsers(pageNumber, pageSize);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t{this.props.isFetching ? <Preloader /> : null}\r\n\t\t<Users totalUsersCount={this.props.totalUsersCount} \r\n\t\tpageSize={this.props.pageSize} currentPage={this.props.currentPage}\r\n\t\t\tonPageChanged={this.onPageChanged} users={this.props.users} \r\n\t\t\ttoggleFollowingProgress={this.props.toggleFollowingProgress} \r\n\t\t\tfollowinginProgress={this.props.followinginProgress}\r\n\t\t\tfollow={this.props.follow}\r\n\t\t\tunfollow={this.props.unfollow}\r\n\t\t\t/>\r\n\t\t\t</>\r\n\t}\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsersSuperSelector(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowinginProgress: getFollowingInProgress(state)\r\n\t}\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, {\t\r\n\t\tsetCurrentPage,\r\n\t\ttoggleFollowingProgress,\r\n\t\trequestUsers, follow, unfollow\r\n\t}))(UsersContainer)","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={s.header}>\r\n          <img src=\"https://pixy.org/src/70/704855.png\"></img>\r\n          <div className={s.loginBlock}>\r\n          \t{ props.isAuth ? \r\n          \t\t<div>{props.login} \r\n          \t\t<button onClick={props.logout}>logout</button></div>\r\n          \t\t: \r\n          \t\t<NavLink to=\"/login\">Login</NavLink>}\r\n          </div>\r\n        </header>\r\n\r\n\t\t)\r\n\t\r\n}\r\n\r\nexport default Header;\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Header from './Header.jsx';\r\nimport {logout} from './../../Redux/auth-reducer.js';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\t\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\t\r\n}\r\n\r\nconst mapStateToProps = (state) => ({isAuth: state.auth.isAuth,login: state.auth.login});\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n\r\n","import React from 'react';\r\nimport {reduxForm} from 'redux-form';\r\nimport {Input} from './../common/FormControls/FormControls.js';\r\nimport {required} from './../../utils/validators/validators.js';\r\nimport {connect} from 'react-redux';\r\nimport {login} from './../../Redux/auth-reducer.js';\r\nimport {Redirect} from 'react-router-dom';\r\nimport style from './../../components/common/FormControls/FormControls.module.css';\r\nimport {createField} from './../common/FormControls/FormControls.js';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\r\n\t\t\t\t{createField(\"Email\", \"email\", [required], Input)}\r\n\t\t\t\t{createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\t\r\n\t\t\t\t{createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n\t\t\t\t\r\n\t\t\t\t{error && <div className={style.summaryError}>{error}\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button>Login</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Данные тестового аккаунта</h2>\r\n\t\t\t\t<p>Email: free@samuraijs.com</p>\r\n\t\t\t\t<p>Password: free</p>\r\n\t\t\t</div>\r\n\t\t</div>\t\r\n\t)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  // a unique name for the form\r\n  form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe);\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"}/>\r\n\t}\r\n\r\n\treturn <div>\r\n\t\t<h1>Login</h1>\r\n\t\t<LoginReduxForm onSubmit={onSubmit} />\r\n\t</div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth\t\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n\treturn (props) => {\r\n\t\treturn <React.Suspense fallback={<div>Loading...</div>}><Component {...props} /></React.Suspense>\r\n\t};\r\n}","import React from 'react';\nimport store from './Redux/redux-store.js';\nimport {Provider, connect} from 'react-redux'; \nimport {compose} from 'redux';\nimport {withRouter, Route, HashRouter} from 'react-router-dom';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar.jsx';\nimport UsersContainer from './components/Users/UsersContainer.js';\nimport HeaderContainer from './components/Header/HeaderContainer.js';\nimport LoginPage from './components/login/login.jsx';\nimport Preloader from './components/common/Preloader/Preloader.js';\nimport {initializeApp} from './Redux/app-reducer.js';\nimport {withSuspense} from './hoc/withSuspense.js';\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer.js'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer.js'));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n\n    if (!this.props.initialized) {\n        return <Preloader />\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route path=\"/messages\" render={withSuspense(DialogsContainer)}/>\n          <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\n          <Route path=\"/users\" render={() => <UsersContainer />}/>\n          <Route path=\"/login\" render={() => <LoginPage />}/>\n        </div>\n      </div> \n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\n\nlet AppContainer = compose(withRouter,connect(mapStateToProps, {initializeApp}))(App);\n\nconst MainApp = (props) => {\n  return <HashRouter>\n    <Provider store={store} >\n      <AppContainer />\n    </Provider>\n    </HashRouter>\n}\n\nexport default MainApp;","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\nReactDOM.render(<MainApp />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3CvsW\",\"error\":\"FormControls_error__1N5XE\",\"summaryError\":\"FormControls_summaryError__3XQ_Z\"};","import React from 'react';\r\nimport preloader from './../../../assets/images/loader.gif';\r\n\r\nlet Preloader = (props) => {\r\n\treturn <img src={preloader} />\r\n}\r\n\r\nexport default Preloader;","export const required = (value) => {\r\n\tif (value) return undefined;\r\n\treturn \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\treturn undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1FMpF\",\"pageNumber\":\"Paginator_pageNumber__tm45-\",\"selectedPage\":\"Paginator_selectedPage__1uvWJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3RBOP\",\"loginBlock\":\"Header_loginBlock__36kxZ\"};","import {usersAPI, profileAPI} from './../api/api.js';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n\r\n\tposts: [\r\n\t\t{id: 1, text: \"How are you?\", likeCount: 15},\r\n\t\t{id: 2, text: \"I am fine, and you?\", likeCount: 35}\r\n\t],\r\n\tprofile: null,\r\n\tstatus: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t \t\tid: 5,\r\n\t\t \t\ttext: action.newPostText,\r\n\t\t \t\tlikeCount: 0,\r\n\t\t \t\t\r\n\t\t \t};\r\n\r\n\t\t \treturn {\r\n\t\t \t\t...state,\r\n\t\t \t\tposts: [...state.posts, newPost]\r\n\t\t \t}\r\n\t\t}\r\n\r\n\t\tcase SET_STATUS: {\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t \t\t...state,\r\n\t\t \t\tstatus: action.status\r\n\t\t \t}\r\n\t\t}\r\n\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: state.posts.filter(p => p.id !== action.postId)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n  return {\r\n    type: ADD_POST,\r\n    newPostText\r\n  }\r\n}\r\n\r\nexport const setUserProfile = (profile) => {\r\n  return {\r\n  \ttype: SET_USER_PROFILE, profile\r\n  }\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\t\r\n\tlet response = await usersAPI.getProfile(userId);\r\n\t\r\n\tdispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n\treturn {\r\n\t\ttype: SET_STATUS, status\r\n\t}\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tlet response = await profileAPI.getStatus(userId);\r\n\tdispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\tlet response = await profileAPI.updateStatus(status);\r\n\t\t\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setStatus(status))\r\n\t}\r\n}\r\n\r\nexport const deletePost = (postId) => ({\r\n\ttype: DELETE_POST, postId\r\n})\r\n\r\nexport default profileReducer;"],"sourceRoot":""}